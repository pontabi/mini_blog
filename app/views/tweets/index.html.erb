
<% content_for :title, "Home" %>

<% unless user_signed_in? %>
<div class="home-container">
    <header class="home-header">
        <h1 class="home-title">Welcome to Mini Blog</h1>
        <p class="home-subtitle">A simple way to share your thoughts with the world.</p>
    </header>


    <div class="home-actions">
        <%= link_to "Sign In", new_user_session_path, class: "home-button login-button" %>
        <%= link_to "Sign Up", new_user_registration_path, class: "home-button signup-button" %>
    </div>
</div>
<% end %>

<% if user_signed_in? %>
  <%= link_to new_tweet_path, class: "new-tweet-icon" do %>
    <%= icon('fa-solid', 'plus', class:"fa-1x") %>
  <% end %>
<% end %>

<div class="tweets-container">
  <%= turbo_frame_tag :tweets_container do %>
    <% if user_signed_in? %>
    <div class="tweets-filter-links">
      <%= link_to '全てのツイート',
                  tweets_path(filter: 'all'),
                  class: "tweets-filter-link #{'active' if @filter == 'all'}",
                  data: { turbo_frame: 'tweets_container' } %>
      <%= link_to 'フォロー中',
                  tweets_path(filter: 'following'),
                  class: "tweets-filter-link #{'active' if @filter == 'following'}",
                  data: { turbo_frame: 'tweets_container' } %>
    </div>
    <% end %>

    <div class="tweets">
      <%= turbo_frame_tag "tweets-page-#{@tweets.current_page}" do %>
        <%= render @tweets %>

        <%= turbo_frame_tag "tweets-page-#{@tweets.next_page}", loading: :lazy, src: path_to_next_page(@tweets) %>
      <% end %>
    </div>
  <% end %>
</div>
